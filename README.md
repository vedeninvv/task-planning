# Планировщик заданий

Bakend-часть сервиса планирования заданий для командного выполнения и отслеживания.

### Необходимо:
- Java: 17
- Maven
- СУБД: PostgreSQL (не требуется при запуске с помощью Docker. Контейнер с БД будет создан автоматически)

> Используется Spring Boot

## Инструкция по сборке, развертыванию и запуску

### Сборка и запуск через jar-файл (Или для запуска в среде разработки)

1. Склонировать проект.
2. Собрать jar-файл

       mvn package -Dmaven.test.skip

3. Развернуть пустую базу данных PostgreSQL. Настройка не требуется - все таблицы и необходимые данные будут созданы и
   внесены в момент запуска приложения автоматически.
4. В корне проекта для запуска нужно выполнить следующую команду, передав перечисленные ниже параметры:

       java -DDATABASE_URL={URL к БД} -DDATABASE_USER={Имя пользователя БД} -DDATABASE_PASSWORD={Пароль для подключения к БД} -DPORT={Номер порта} -jar target/task-planning-0.0.1-SNAPSHOT.jar

    - {URL к БД} - URL для подключения к БД. Пример формата: jdbc:postgresql://localhost:5432/task-planning
    - {Имя пользователя БД}
    - {Пароль для подключения к БД}
    - {Номер порта} - например: 8080

> Другой вариант - запуск при помощи IntelliJ IDEA.
>
> Для этого необходимо так же создать пустую БД PostgreSQL, открыть склонированный проект в IDEA и перед запуском изменить конфигурацию запуска, указав переменные среды, аналогично способу выше:
>
>     PORT={Номер порта};
>     DATABASE_URL={URL к БД};
>     DATABASE_USER={Имя пользователя БД};
>     DATABASE_PASSWORD={Пароль для подключения к БД}

## Docker

Запуск в Docker-контейнере:

1. Склонировать проект.
2. Собрать jar-файл

       mvn package -Dmaven.test.skip

3. Определить переменные среды:

       PORT={Номер порта}
       DATABASE_USER={Имя пользователя БД}
       DATABASE_PASSWORD={Пароль для подключения к БД}
       DATABASE_NAME={Имя БД}

   > Например, чтобы сделать это, можно создать .env-файл в корне проекта.
   >
   > Возможный вариант (если параметризация не нужна, можно просто скопировать в .env):
   >
   >     PORT=8080
   >     DATABASE_USER=postgres
   >     DATABASE_PASSWORD=password
   >     DATABASE_NAME=task-planning-db

4. Запуск при помощи docker-compose:

       docker-compose up

   Никаких действий для базы данных не требуется. Контейнер с базой данных PostgreSQL создастся и запустится
   автоматически. Все таблицы и необходимые данные будут внесены и созданы в момент старта приложения.

## Краткое описание проекта

### Use-case

Админы формируют команды, создают задания, назначают пользователей и команды на задания. Пользователи получают
информацию о текущем положении и отмечают выполнение подзадач заданий.

Диаграмма вариантов использования:
![use-case](https://user-images.githubusercontent.com/63102929/209673347-9ce4803a-a1fa-495f-87ad-95850ea2960b.jpg)

### ER-диграмма

![ER](https://user-images.githubusercontent.com/63102929/209673991-cea31ef5-37a7-4ec9-a062-fe8126f36997.jpg)
